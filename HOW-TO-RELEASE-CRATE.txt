# A checklist/sequence of actions to take to package a new build and upload it
# to crates.io.

- Ensure all tests pass:
  -`cargo hack test --feature-powerset`
- Make sure documentation is up to date:
  - `./docs-build.bat --open`
  - crates-io.md
  - Run generate-readme.bat
- Make sure CHANGELOG is up to date:
  - Change Unreleased -> version
  - add link to tag (note that this won't work until the tag has been pushed)
  - add release date
- Update version numbers in:
  - float_eq/Cargo.toml
  - float_eq_derive/Cargo.toml
  - float_eq/crates-io.md
  - book/book.toml
  - book/src/how_to/compare_custom_types.md
- Make release tag in git
  - git tag -s x.y.z -m "x.y.z release"
  - git push origin --tags
- Check CI is building
- Check links in CHANGELOG and badges work to new release tag
- Release docs (HOW-TO-RELEASE-DOCS.txt)
- Check `cargo package` for float_eq_derive
- `cargo publish` float_eq_derive
- Check `cargo package` for float_eq
- `cargo publish` for float_eq
- Update CHANGELOG.md to Reinstate Unreleased section
- Update version numbers to x.y.z-pre with an incremented z in Cargo.tomls